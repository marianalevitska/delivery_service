"use strict";(self.webpackChunkdelivery_app=self.webpackChunkdelivery_app||[]).push([[729],{7729:function(r,e,n){n.r(e),n.d(e,{default:function(){return A}});var t=n(6119),a=n(1413),s=n(5861),i=n(885),c=n(7757),o=n.n(c),u=n(2791),l=n(5048),d=n(5636),p={img_seller:"shopItem_img_seller__WVXvQ",seller_title:"shopItem_seller_title__T8oFC",active_seller:"shopItem_active_seller__V9Kek"},f=n(184),h=function(r){var e=r.name,n=r.avatar,t=r.id,a=(0,l.I0)(),s=(0,l.v9)((function(r){return r.shops.activeId}),l.wU),i=(0,u.useCallback)((function(r){a((0,d.HZ)(r))}),[a]);return(0,f.jsxs)("div",{className:function(r){return s===r?p.active_seller:p.shopItem}(t),onClick:function(){return i(t)},children:[(0,f.jsx)("img",{src:n,alt:"".concat(e," logo"),className:p.img_seller}),(0,f.jsx)("h3",{className:p.seller_title,children:e})]})},v=n(3760),m=n(4569),x=n.n(m)().create({baseURL:"https://62c004aad40d6ec55cc963d5.mockapi.io/api/v1/Shops"}),_=function(){var r=(0,s.Z)(o().mark((function r(){var e,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.get("/");case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),g=function(){var r=(0,s.Z)(o().mark((function r(e){var n,t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.get("/".concat(e));case 2:return n=r.sent,t=n.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),j="shopsList_shops__dv0Ta",Z="shopsList_title__WMTVt",y=function(){var r=(0,u.useState)({shops:[],isLoading:!1,error:null}),e=(0,i.Z)(r,2),n=e[0],t=e[1];(0,u.useEffect)((function(){var r=function(){var r=(0,s.Z)(o().mark((function r(){var e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!0,error:null})})),r.next=3,_();case 3:e=r.sent;try{t((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!1,shops:e})}))}catch(d){t((function(e){return(0,a.Z)((0,a.Z)({},e),{},{error:d.message,isLoading:!1})}))}case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}),[]);var c=n.shops,l=n.isLoading,d=n.error,p=c.map((function(r){return(0,f.jsx)(h,{id:r.id,avatar:r.avatar,name:r.name},r.id)}));return(0,f.jsxs)(f.Fragment,{children:[c.length>0&&(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("h2",{className:Z,children:"Shops"}),p]}),l&&(0,f.jsx)(v.Z,{}),d&&(0,f.jsx)("div",{children:d})]})},b=n(907);var w=n(181);function N(r){return function(r){if(Array.isArray(r))return(0,b.Z)(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||(0,w.Z)(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k={},L=function(r){var e=r.url,n=r.text,t=r.name,a=r.price,s=(0,l.I0)(),i=a>0?a:Math.floor(271*Math.random()+30);return(0,f.jsxs)("div",{className:k.productCard,children:[(0,f.jsx)("img",{src:e,alt:"Product ".concat(t),className:k.img}),(0,f.jsx)("h3",{className:k.title,children:t}),(0,f.jsx)("p",{className:k.text,children:n}),(0,f.jsx)("p",{className:k.price,children:i}),(0,f.jsx)("button",{type:"button",className:k.orderBtn,onClick:function(){return r={url:e,text:n,name:t,price:i},void s((0,d.yK)(r));var r},children:"Add to Cart"})]})};L.defaultProps={price:0};var I=L,S=n(7251),C=function(){var r=(0,l.v9)(S.a,l.wU),e=(0,u.useState)({products:[],isLoading:!1,error:null}),n=(0,i.Z)(e,2),t=n[0],c=n[1];(0,u.useEffect)((function(){var e=function(){var e=(0,s.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!0,error:null})})),e.prev=1,e.next=4,g(r);case 4:n=e.sent,c((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!1,products:N(n.products)})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c((function(r){return(0,a.Z)((0,a.Z)({},r),{},{error:e.t0.message,isLoading:!1})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();r&&e()}),[r]);var d=t.products,p=t.isLoading,h=t.error,m=d.map((function(r,e){return(0,f.jsx)(I,(0,a.Z)({},r),e)}));return(0,f.jsxs)(f.Fragment,{children:[d.length>0&&m,!(d.length>0)&&!h&&"There is no products to order, yet",p&&(0,f.jsx)(v.Z,{}),h&&(0,f.jsxs)("div",{children:[" ","Something went wrong: ".concat(h)]})]})},T={},A=function(){return(0,f.jsxs)(t.Z,{children:[(0,f.jsx)("div",{className:T.shopsWrapper,children:(0,f.jsx)(y,{})}),(0,f.jsx)("div",{className:T.productsWrapper,children:(0,f.jsx)(C,{})})]})}},7251:function(r,e,n){n.d(e,{X:function(){return a},a:function(){return t}});var t=function(r){return r.shops.activeId},a=function(r){return r.shops.products}},6119:function(r,e,n){n.d(e,{Z:function(){return c}});var t="container_container__7D7mb",a="container_title__qyPiS",s=n(184);function i(r){var e=r.title,n=r.children;return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("h2",{className:a,children:e}),n]})}i.defaultProps={title:""};var c=i}}]);
//# sourceMappingURL=729.852bdacf.chunk.js.map