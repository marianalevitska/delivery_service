"use strict";(self.webpackChunkdelivery_app=self.webpackChunkdelivery_app||[]).push([[584],{3584:function(r,t,e){e.r(t),e.d(t,{default:function(){return q}});var n=e(6119),a=e(1413),s=e(5861),c=e(885),i=e(7757),o=e.n(i),u=e(2791),l=e(5048),d=e(5636),p={img_seller:"shopItem_img_seller__WVXvQ",seller_title:"shopItem_seller_title__T8oFC",active_seller:"shopItem_active_seller__V9Kek"},f=e(184),h=function(r){var t=r.name,e=r.avatar,n=r.id,a=(0,l.I0)(),s=(0,l.v9)((function(r){return r.shops.activeId}),l.wU),c=(0,u.useCallback)((function(r){a((0,d.HZ)(r))}),[a]);return(0,f.jsxs)("div",{className:function(r){return s===r?p.active_seller:p.shopItem}(n),onClick:function(){return c(n)},children:[(0,f.jsx)("img",{src:e,alt:"".concat(t," logo"),className:p.img_seller}),(0,f.jsx)("h3",{className:p.seller_title,children:t})]})},_=e(3760),v=e(4569),m=e.n(v)().create({baseURL:"https://62c004aad40d6ec55cc963d5.mockapi.io/api/v1/Shops"}),x=function(){var r=(0,s.Z)(o().mark((function r(){var t,e;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.get("/");case 2:return t=r.sent,e=t.data,r.abrupt("return",e);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),j=function(){var r=(0,s.Z)(o().mark((function r(t){var e,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.get("/".concat(t));case 2:return e=r.sent,n=e.data,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),g="shopsList_shops__dv0Ta",Z="shopsList_title__WMTVt",y=function(){var r=(0,u.useState)({shops:[],isLoading:!1,error:null}),t=(0,c.Z)(r,2),e=t[0],n=t[1];(0,u.useEffect)((function(){var r=function(){var r=(0,s.Z)(o().mark((function r(){var t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!0,error:null})})),r.next=3,x();case 3:t=r.sent;try{n((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!1,shops:t})}))}catch(d){n((function(t){return(0,a.Z)((0,a.Z)({},t),{},{error:d.message,isLoading:!1})}))}case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}),[]);var i=e.shops,l=e.isLoading,d=e.error,p=i.map((function(r){return(0,f.jsx)(h,{id:r.id,avatar:r.avatar,name:r.name},r.id)}));return(0,f.jsxs)(f.Fragment,{children:[i.length>0&&(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("h2",{className:Z,children:"Shops"}),p]}),l&&(0,f.jsx)(_.Z,{}),d&&(0,f.jsx)("div",{children:d})]})},b=e(907);var N=e(181);function w(r){return function(r){if(Array.isArray(r))return(0,b.Z)(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||(0,N.Z)(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C="productCard_productCard__1TFTR",k="productCard_product_img__E1MAy",L="productCard_under_product__W5QPx",I="productCard_product_title__fCVVZ",S="productCard_product_text__Sm+rY",T="productCard_product_price__S8UjI",A="productCard_orderBtn__lzOio",P=function(r){var t=r.url,e=r.text,n=r.name,a=r.price,s=(0,l.I0)(),c=a>0?a:Math.floor(271*Math.random()+30);return(0,f.jsxs)("div",{className:C,children:[(0,f.jsx)("img",{src:t,alt:"Product ".concat(n),className:k}),(0,f.jsxs)("div",{className:L,children:[(0,f.jsx)("h3",{className:I,children:n}),(0,f.jsx)("p",{className:S,children:e}),(0,f.jsx)("p",{className:T,children:c}),(0,f.jsx)("button",{type:"button",className:A,onClick:function(){return r={url:t,text:e,name:n,price:c},void s((0,d.yK)(r));var r},children:"Add to Cart"})]})]})};P.defaultProps={price:0};var V=P,W=e(7251),E="products_products_block__ypqrq",M=function(){var r=(0,l.v9)(W.a,l.wU),t=(0,u.useState)({products:[],isLoading:!1,error:null}),e=(0,c.Z)(t,2),n=e[0],i=e[1];(0,u.useEffect)((function(){var t=function(){var t=(0,s.Z)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!0,error:null})})),t.prev=1,t.next=4,j(r);case 4:e=t.sent,i((function(r){return(0,a.Z)((0,a.Z)({},r),{},{isLoading:!1,products:w(e.products)})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i((function(r){return(0,a.Z)((0,a.Z)({},r),{},{error:t.t0.message,isLoading:!1})}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();r&&t()}),[r]);var d=n.products,p=n.isLoading,h=n.error,v=d.map((function(r,t){return(0,f.jsx)(V,(0,a.Z)({},r),t)}));return(0,f.jsxs)("div",{className:E,children:[d.length>0&&v,!(d.length>0)&&!h&&"There is no products to order, yet",p&&(0,f.jsx)(_.Z,{}),h&&(0,f.jsxs)("div",{children:[" ","Something went wrong: ".concat(h)]})]})},U={},q=function(){return(0,f.jsxs)(n.Z,{children:[(0,f.jsx)("div",{className:U.shopsWrapper,children:(0,f.jsx)(y,{})}),(0,f.jsx)("div",{className:U.productsWrapper,children:(0,f.jsx)(M,{})})]})}},7251:function(r,t,e){e.d(t,{X:function(){return a},a:function(){return n}});var n=function(r){return r.shops.activeId},a=function(r){return r.shops.products}},6119:function(r,t,e){e.d(t,{Z:function(){return i}});var n="container_container__7D7mb",a="container_title__qyPiS",s=e(184);function c(r){var t=r.title,e=r.children;return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("h2",{className:a,children:t}),e]})}c.defaultProps={title:""};var i=c}}]);
//# sourceMappingURL=584.75946479.chunk.js.map